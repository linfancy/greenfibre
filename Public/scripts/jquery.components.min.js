'use strict';(function(){var $,ie6;$=jQuery;ie6=!!window.ActiveXObject&&!window.XMLHttpRequest;$.extend({setRepeater:function(fn,interval){setTimeout((function(){fn();$.setRepeater(fn,interval);}),interval);},setTimer:function(fn,interval){var recurse,ref;ref={};ref["continue"]=true;(recurse=function(){if(ref["continue"]){ref.timeout=setTimeout((function(){fn();recurse();}),interval);}})();return ref;},clearTimer:function(ref){ref["continue"]=false;clearTimeout(ref.timeout);}});$.extend({smog:function($now,$next,speed){if(speed==null){speed=200;}$now.fadeOut(speed,function(){$next.fadeIn(speed);});}});$.fn.extend({promo:function(exchange,interval){var $imgs,$nums,$this,l,num,timer;if(exchange==null){exchange=$.smog;}if(interval==null){interval=4000;}$this=$(this);$imgs=$this.find('li:has(img)');$nums=$this.find('ol>li');l=$nums.length;num=1+l;$nums.click(function(){if(!ie6){$nums.filter('[class*="cur"]').removeClass('cur');$(this).addClass('cur');}num=+$(this).text();exchange($imgs.filter(':visible'),$imgs.eq(num-1));});$this.find('.pre').click(function(){$nums.eq(num%l-2).click();});$this.find('.next').click(function(){$nums.eq(num%l).click();});timer=null;$this.hover((function(){$.clearTimer(timer);}),(function(){timer=$.setTimer((function(){$nums.eq(num%l).click();}),interval);}));$this.mouseout();$imgs.hide().eq(0).show();return this;},picasa:function(){var $box,$doc,$img,$lab;if(!$('#picasaBox').length){$('<div id="picasaBox"></div>').css({'width':0,'height':0,'background-image':'url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+gAAAABCAYAAABNAIQzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzUyQTFGNTc5REMxMTFFMjgxNjVFRTJGNzg4RkI5MjUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzUyQTFGNTg5REMxMTFFMjgxNjVFRTJGNzg4RkI5MjUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3NTJBMUY1NTlEQzExMUUyODE2NUVFMkY3ODhGQjkyNSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3NTJBMUY1NjlEQzExMUUyODE2NUVFMkY3ODhGQjkyNSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhMHfVAAAAAfSURBVHja7MExAQAACMCg2dzoxvABptoAAACAVyfAAO4rAIKTWh7AAAAAAElFTkSuQmCC)','position':'absolute','left':'50%','display':'none','z-index':9999}).append($('<img src="" alt="">').css({'position':'absolute','top':'50%','left':'50%'})).appendTo('body');$('<img id="picasaLab" src="" alt="">').hide().appendTo('body');}$box=$('#picasaBox');$img=$('#picasaBox>img');$lab=$('#picasaLab');$doc=$(document);$(window).scroll(function(){$box.css({'top':$doc.scrollTop()});});$box.click(function(){var bmt;bmt=$box.height()/2;$box.animate({'height':0,'width':0,'left':'50%','margin-top':bmt},400,$box.hide);$img.animate({'height':0,'width':0,'margin':0},400,$img.hide);});$(this).filter('img').click(function(){var ih,iml,imt,iw;$img.attr('src',$(this).attr('src'));$lab.attr('src',$(this).attr('src'));ih=$lab.height();imt=ih/-2;iw=$lab.width();iml=iw/-2;$box.show().css({'top':$doc.scrollTop(),'margin-top':$(window).height()/2}).animate({'height':'100%','width':'100%','left':0,'margin-top':0});$img.css({'height':0,'width':0}).show().animate({'height':ih,'width':iw,'margin-top':imt,'margin-left':iml});});return this;}});})();